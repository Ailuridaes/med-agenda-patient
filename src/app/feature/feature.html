<div class="row">
    <div class="col-md-11 col-md-offset-1">
        <wizard on-finish="finishedWizard()">
            <wz-step wz-title="Check In">
            <h1 class="col-md-offset-4" style="color: white;">Patient Check-In</h1>
                <div class="panel panel-default login col-md-offset-4">
                    <div class="panel-heading">
                        Please, enter your information to continue.
                        <button class="btn btn-danger btn-xs pull-right" ng-click="feature.reset()">Reset</button>
                    </div>
                    <div class="panel-body">
                        <form>
                            <div class="form-group">
                                <label>First Name</label>
                                <input type="text" class="form-control" ng-model="feature.patient.firstName">
                            </div>
                            <div class="form-group">
                                <label>Last Name</label>
                                <input type="text" class="form-control" ng-model="feature.patient.lastName">
                            </div>
                            <div class="form-group">
                                <label>Email</label>
                                <input type="email" class="form-control" ng-model="feature.patient.email">
                            </div>
                            <button class="btn btn-primary" type="submit" ng-disabled="feature.disabledValidationCheckIn()"
                                    ng-click="feature.returningPatientCheck(feature.patient.firstName, feature.patient.lastName, feature.patient.email)">Next</button>
                        </form>
                    </div>
                </div>
                <br>
                <br>
                <br>
                <br>
                <br>
                <br>
            </wz-step>
            <wz-step wz-title="Personal Info" wz-disabled="{{feature.isReturningUser}}">
                <div class="panel panel-primary">
                    <div class="panel-heading">
                        Please, tell us a little bit more about yourself...
                        <button class="btn btn-danger btn-xs pull-right" ng-click="feature.reset()">Reset</button>
                    </div>
                    <div class="panel-body lilpad">
                        <form>
                            <div class="form-group">
                                <h4><label>Date of Birth</label></h4>
                                <input type="date" class="form-control" ng-model="feature.patient.dateOfBirth">
                            </div>
                            <div class="form-group">
                                <h4><label>Telephone</label></h4>
                                <input type="text" class="form-control" ng-model="feature.patient.telephone">
                            </div>
                            <div class="form-group">
                                <h4><label>Address</label></h4>
                                <input type="text" class="form-control" ng-model="feature.patient.address">
                            </div>
                            <h4><label>Emergency Contact</label></h4>
                            <div class="form-group col-md-offset-1">
                                <label>First Name</label>
                                <input type="text" class="form-control" ng-model="feature.emergencyContact.firstName">
                            </div>
                            <div class="form-group col-md-offset-1">
                                <label>Last Name</label>
                                <input type="text" class="form-control" ng-model="feature.emergencyContact.lastName">
                            </div>
                            <div class="form-group col-md-offset-1">
                                <label>Telephone</label>
                                <input type="text" class="form-control" ng-model="feature.emergencyContact.telephone">
                            </div>
                            <div class="form-group">
                                <h4><label>Medications</label></h4>
                                <input type="text" class="form-control" ng-model="feature.patient.medications">
                            </div>
                            <div class="form-group">
                                <h4><label>Chronic Conditions (i.e. Asthma, Diabetes, etc...)</label></h4>
                                <input type="text" class="form-control" ng-model="feature.patient.chronicConditions">
                            </div>
                            <div class="form-group">
                                <h4><label>Allergies</label></h4>
                                <input type="text" class="form-control" ng-model="feature.patient.allergies">
                            </div>
                            <button class="btn btn-primary" type="submit" ng-disabled="feature.disabledValidationPersonalInfo()" wz-next value="Continue" ng-click="feature.setEmergencyContactToPatient()">Continue</button>
                        </form>
                    </div>
                </div>
            </wz-step>
            <wz-step wz-title="Reason for Visit">
                <div class="panel panel-primary">
                    <div class="panel-heading">
                        How are you feeling today?
                        <button class="btn btn-warning btn-md pull-right" ng-click="feature.reset()">Reset</button>
                    </div>
                    <div class="panel-body lilpad">
                        <form>
                            <div class="form-group">
                                <label>Please select from the list all of the symptoms that you are currently experiencing</label>
                                <select class="form-control" ng-model="feature.patient.symptom" placeholder="Symptom">
                                    <option value="Head Trauma">Head Trauma</option>
                                    <option value="Broken Bone">Broken Bone</option>
                                    <option value="Loss Of Consciousness">Loss of Consciousness</option>
                                    <option value="fever">Fever</option>
                                    <option value="Loss Of Blood">Loss Of Blood</option>
                                </select>
                            </div>
                            <div>
                            <br>
                                <label>How bad does it hurt?</label>
                                <table class="table">
                                    <tbody>
                                        <tr>
                                            <td width="16%"><img class="pain-image" ng-click="feature.patient.painScale = 1" ng-src="/images/1.jpg" ng-class="{ 'selected': feature.patient.painScale === 1 }" /></td>
                                            <td width="16%"><img class="pain-image" ng-click="feature.patient.painScale = 2" ng-src="/images/2.jpg" ng-class="{ 'selected': feature.patient.painScale === 2 }" /></td>
                                            <td width="16%"><img class="pain-image" ng-click="feature.patient.painScale = 3" ng-src="/images/3.jpg" ng-class="{ 'selected': feature.patient.painScale === 3 }" /></td>
                                            <td width="16%"><img class="pain-image" ng-click="feature.patient.painScale = 4" ng-src="/images/4.jpg" ng-class="{ 'selected': feature.patient.painScale === 4 }" /></td>
                                            <td width="16%"><img class="pain-image" ng-click="feature.patient.painScale = 5" ng-src="/images/5.jpg" ng-class="{ 'selected': feature.patient.painScale === 5 }" /></td>
                                            <td width="16%"><img class="pain-image" ng-click="feature.patient.painScale = 6" ng-src="/images/6.jpg" ng-class="{ 'selected': feature.patient.painScale === 6 }" /></td>
                                        </tr>
                                        <tr>
                                            <td ng-class="{'strong': feature.patient.painScale === 1 }">NO HURT</td>
                                            <td ng-class="{'strong': feature.patient.painScale === 2 }">HURTS LITTLE BIT</td>
                                            <td ng-class="{'strong': feature.patient.painScale === 3 }">HURTS LITTLE MORE</td>
                                            <td ng-class="{'strong': feature.patient.painScale === 4 }">HURTS EVEN MORE</td>
                                            <td ng-class="{'strong': feature.patient.painScale === 5 }">HURTS WHOLE LOT</td>
                                            <td ng-class="{'strong': feature.patient.painScale === 6 }">HURTS WORST</td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                            <button class="btn btn-primary" type="submit" wz-next value="Continue">Continue</button>
                        </form>
                    </div>
                </div>
            </wz-step>
            <wz-step wz-title="Confirm">
                <div class="panel panel-info">
                    <div class="panel-heading">
                        Is this information correct?
                        <button class="btn btn-warning btn-md pull-right" ng-click="feature.reset()">Reset</button>
                    </div>
                    <div class="panel-body lilpad">
                        <div class="row">
                            <div class="col-md-4">
                                <h4>First Name: </h4>
                                <div ng-click="isEditingFirst = true">
                                    <p ng-hide="isEditingFirst">{{feature.patient.firstName}}</p>
                                    <input ng-show="isEditingFirst" ng-model="feature.patient.firstName" ng-blur="isEditingFirst = false">
                                </div>
                            </div>
                            <div class="col-md-4">
                                <h4>Last Name: </h4>
                                <div ng-click="isEditingLast = true">
                                    <p ng-hide="isEditingLast">{{feature.patient.lastName}}</p>
                                    <input ng-show="isEditingLast" ng-model="feature.patient.lastName" ng-blur="isEditingLast = false">
                                </div>
                            </div>
                            <div class="col-md-4">
                                <h4>Email: </h4>
                                <div ng-click="isEditingEmail = true">
                                    <p ng-hide="isEditingEmail">{{feature.patient.email}}</p>
                                    <input ng-show="isEditingEmail" ng-model="feature.patient.email" ng-blur="isEditingEmail = false">
                                </div>
                            </div>
                        </div>
                        <hr>
                        <div class="row">
                            <div class="col-md-4">
                                <h4>Telephone: </h4>
                                <div ng-click="isEditingTelephone = true">
                                    <p ng-hide="isEditingTelephone">{{feature.patient.telephone}}</p>
                                    <input ng-show="isEditingTelephone" ng-model="feature.patient.telephone" ng-blur="isEditingTelephone = false">
                                </div>
                            </div>
                            <div class="col-md-4">
                                <h4>Address: </h4>
                                <div ng-click="isEditingAddress = true">
                                    <p ng-hide="isEditingAddress">{{feature.patient.address}}</p>
                                    <input ng-show="isEditingAddress" ng-model="feature.patient.address" ng-blur="isEditingAddress = false">
                                </div>
                            </div>
                            <div class="col-md-4">
                                <h4>Date of Birth: </h4>
                                <div ng-click="isEditingBirthDay = true">
                                    <p ng-hide="isEditingBirthDay">{{feature.patient.dateOfBirth}}</p>
                                    <inputn type="datetime" g-show="isEditingBirthDay" ng-model="feature.patient.dateOfBirth" ng-blur="isEditingBirthDay = false">
                                </div>
                            </div>
                        </div>
                        <hr>
                        <div class="row">
                            <h4 class="text-center">Emergency Contact Info</h4>
                            <hr>
                        </div>
                        <div class="row">
                            <div class="col-md-10 col-md-offset-1">
                                <table class="table">
                                    <thead>
                                        <tr>
                                            <th>First Name</th>
                                            <th>Last Name</th>
                                            <th>Phone Number</th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr ng-repeat="contact in feature.patient.emergencyContacts">
                                            <td ng-click="isEditingECFirstName = true">
                                                <div ng-hide="isEditingECFirstName">{{contact.firstName}}</div>
                                                <input type="text" ng-model="contact.firstName" ng-show="isEditingECFirstName" ng-blur="feature.editECArray(contact); isEditingECFirstName = false">
                                            </td>
                                            <td ng-click="isEditingECLastName = true">
                                                <div ng-hide="isEditingECLastName">{{contact.lastName}}</div>
                                                <input type="text" ng-model="contact.lastName" ng-show="isEditingECLastName" ng-blur="feature.editECArray(contact); isEditingECLastName = false">
                                            </td>
                                            <td ng-click="isEditingECTelephone = true">
                                                <div ng-hide="isEditingECTelephone">{{contact.telephone}}</div>
                                                <input type="text" ng-model="contact.telephone" ng-show="isEditingECTelephone" ng-blur="feature.editECArray(contact); isEditingECTelephone = false">
                                            </td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        </div>
                        <hr>
                        <div class="row">
                            <div class="col-md-6">
                                <h4>Medications: </h4>
                                <div ng-click="isEditingMedications = true">
                                    <p ng-hide="isEditingMedications">{{feature.patient.medications}}</p>
                                    <input ng-show="isEditingMedications" ng-model="feature.patient.medications" ng-blur="isEditingMedications = false">
                                </div>
                            </div>
                            <div class="col-md-6">
                                <h4>Chronic Conditions: </h4>
                                <div ng-click="isEditingConditions = true">
                                    <p ng-hide="isEditingConditions">{{feature.patient.chronicConditions}}</p>
                                    <input ng-show="isEditingConditions" ng-model="feature.patient.chronicConditions" ng-blur="isEditingConditions = false">
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <button class="btn btn-block btn-success" type="submit" wz-next value="Continue" ng-click="feature.writePatientToDatabase()">Yes</button>
                <br>
                <br>
                <br>
            </wz-step>
            <wz-step wz-title="Success">
               <div class="panel panel-success">
                   <div class="panel-heading">
                       You have succesfully checked in.
                   </div>
                   <div class="panel-body">
                       <h4>Please take a seat...</h4>
                       <p>The doctor will be with you shortly.</p>
                   </div>
               </div>
           </wz-step>
        </wizard>
    </div>
</div>
